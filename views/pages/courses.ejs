<!DOCTYPE html>
<html lang="en">

<head>
    <title>Courses || Preparation Host</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="/public/images/favicon.png" type="image/x-icon" />
    <link
        href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700&family=Roboto:ital,wght@0,400;0,500;0,700;1,400;1,500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.4.2/css/all.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/public/css/style.css" rel="stylesheet">
    <link href="/public/css/responsive.css" rel="stylesheet">
</head>

<body style="background-color: #f4f4f7;">
    <%- include('../partials/navbar')%>
        <div class="body">
            <section class="bannerSec">
                <div class="container">
                    <div class="bannerTitle2">
                        <img src="/public/images/banner_bg.svg" />
                        <h3>Top Course</h3>
                        <h4>List of Top Courses</h4>
                    </div>
                    <img src="/public/images/banner.png" class="w-100 mt-3" />
                </div>
                <div class="anim-elements">
                    <div class="anim-element"></div>
                    <div class="anim-element"></div>
                    <div class="anim-element"></div>
                    <div class="anim-element"></div>
                    <div class="anim-element"></div>
                </div>
            </section>
            <section class="collegesPage p-0">
                <div class="container">
                    <!-- <h2>Total <span id="course_count">
                        <%=data?.length%>
                    </span> Courses</h2> -->
                    <ul class="collegeInfo coursFilter">
                        <a href="#!">
                            <li class="collegeInfoTab">All</li>
                        </a>
                        <a href="#!">
                            <li class="collegeInfoTab">BCA</li>
                        </a>
                        <a href="#!">
                            <li class="collegeInfoTab">MCA</li>
                        </a>
                        <a href="#!">
                            <li class="collegeInfoTab">B.Tech</li>
                        </a>
                        <a href="#!">
                            <li class="collegeInfoTab">M.Tech</li>
                        </a>
                        <a href="#!">
                            <li class="collegeInfoTab">MBA</li>
                        </a>
                        <a href="#!">
                            <li class="collegeInfoTab">BSC</li>
                        </a>
                        <a href="#!">
                            <li class="collegeInfoTab">B.Pharma</li>
                        </a>
                        <a href="#!">
                            <li class="collegeInfoTab">Diploma</li>
                        </a>
                        <a href="#!">
                            <li class="collegeInfoTab">M.Com</li>
                        </a>
                        <a href="#!">
                            <li class="collegeInfoTab">LLB</li>
                        </a>
                        <a href="#!">
                            <li class="collegeInfoTab">Web Development</li>
                        </a>
                        <a href="#!">
                            <li class="collegeInfoTab">Graphic Designer</li>
                        </a>
                        <a href="#!">
                            <li class="collegeInfoTab">Management Course</li>
                        </a>
                        <a href="#!">
                            <li class="collegeInfoTab">Law Management</li>
                        </a>
                        <a href="#!">
                            <li class="collegeInfoTab">App Development</li>
                        </a>
                    </ul>
                    <div class="row pt-3">
                        <% data?.forEach(function(data){ %>
                            <div class="col-md-3">
                                <div class="schoolBlock" id="course_list_wrapper">
                                    <span id="coursesData">
                                            <div class="box course_list" data-mode="Regular" data-duration="4 Years">
                                                <!-- <div class="coursebtn">
                                                    <a href="javascript:void(0)" class="course_follow"
                                                        data-course_id="2">Follow</a>
                                                </div> -->
                                                <div class="row content">
                                                    <div class="col-md-12">
                                                        <div class="coursePic">
                                                            <a href="/courseDetail/<%=data?.slag%>/section"
                                                                title="B.Tech - Biochemical Engineering">
                                                                <img src="<%=data?.image%> " alt="<%=data?.imageAlt%>"
                                                                    alt="B.Tech - Biochemical Engineering">
                                                            </a>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-12 courseDec">
                                                        <h2 class="m-0">
                                                            <a href="/courseDetail/<%=data?.slag%>/section"
                                                                title="B.Tech - Biochemical Engineering">
                                                                <%=data?.name%>
                                                            </a>
                                                        </h2>
                                                        <ul class="attr_box">
                                                            <li>Average Duration <span>
                                                                    <%=data?.averageDuration%>
                                                                </span>
                                                            </li>
                                                            <li>Average Fees<span>
                                                                    <%=data?.fees%>
                                                                </span>
                                                            </li>
                                                        </ul>
                                                        <div class="text-center">
                                                            <a href="/courseDetail/<%=data?.slag%>/section" class="readbtn">
                                                                View Details</a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                    </span>
                                </div>
                            </div>
                        <% }) %>
                    </div>
                </div>
            </section>
        </div>
        <%- include('../partials/footer')%>
            <script type="text/javascript" src="assets/js/jquery.min.js"></script>
            <script type="text/javascript" src="assets/js/main.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
            <script src="https://code.jquery.com/jquery-2.2.0.min.js" type="text/javascript"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.js"></script>
</body>

<script>
    function getCourseByDuration(element) {
        const duration = element.value;
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                var data = JSON.parse(this.responseText);
                document.getElementById("course_count").innerHTML = data.length;
                document.getElementById("coursesData").innerHTML = data?.map((course) => {
                    return `<div class="box course_list" data-mode="Regular" data-duration="4 Years">
            <h2>
                <a href="/courseDetail/${course?.slag}/sectio"
                    title="B.Tech - Biochemical Engineering"> ${course?.name}</a></h2>
            <div class="coursebtn">
                <!-- <a href="javascript:void(0)" class="course_follow"
                    data-course_id="2">Follow</a> -->
                    </div>
            <div class="content">
                <div class="coursePic">
                    <a href="/courses/engineering-b-tech-biochemical"
                        title="B.Tech - Biochemical Engineering"><img
                            src="${course?.image}" alt="${course?.imageAlt}"
                            alt="B.Tech - Biochemical Engineering"></a></div>
                <ul class="attr_box">
                    <li>Average Duration <span>
                           ${course?.averageDuration}
                        </span>
                    </li>
                    <li>Average Fees<span>
                        ${course?.fees}
                        </span>
                    </li>
                </ul>
                <p>${course?.shortDescription}</p>
                <a href="/courseDetail/${course?.slag}/section" class="readbtn">
                    View Details</a>
                <div class="clear"></div>
            </div>
        </div>`
                }).join("");
            }
        }
        xhttp.open("GET", `/getCourseByDuration?duration=${duration}`, true);
        xhttp.send();
    }
</script>

<script>
    function getCourseByMode(element) {
        const mode = element.value;
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                var data = JSON.parse(this.responseText);
                document.getElementById("course_count").innerHTML = data?.length;
                document.getElementById("coursesData").innerHTML = data?.map((course) => {
                    return `<div class="box course_list" data-mode="Regular" data-duration="4 Years">
            <h2>
                <a href="/courseDetail/${data?.slag}/sectio"
                    title="B.Tech - Biochemical Engineering"> ${course?.name}</a></h2>
            <div class="coursebtn">
                <!-- <a href="javascript:void(0)" class="course_follow"
                    data-course_id="2">Follow</a> -->
                    </div>
            <div class="content">
                <div class="coursePic">
                    <a href="/courses/engineering-b-tech-biochemical"
                        title="B.Tech - Biochemical Engineering"><img
                            src="${course?.image}" alt="${course?.imageAlt}"
                            alt="B.Tech - Biochemical Engineering"></a></div>
                <ul class="attr_box">
                    <li>Average Duration <span>
                           ${course?.averageDuration}
                        </span>
                    </li>
                    <li>Average Fees<span>
                        ${course?.fees}
                        </span>
                    </li>
                </ul>
                <p>${course?.shortDescription}</p>
                <a href="/courseDetail/${course?.slag}/section" class="readbtn">
                    View Details</a>
                <div class="clear"></div>
            </div>
        </div>`
                }).join("");
            }
        }
        xhttp.open("GET", `/getCourseByMode?mode=${mode}`, true);
        xhttp.send();
    }
</script>

<script>
    function filterBySearch(type, element2) {
        if (type == 'duration') {
            document.getElementById("durationData").childNodes.forEach(element => {
                if (element.id) {
                    const idArray = element.id.split("-");
                    idArray.shift();
                    idArray.shift();
                    const courseName = idArray.join("-");
                    if (!courseName.toLowerCase().toLowerCase().includes(element2.value)) {
                        element.style.display = "none";
                    } else {
                        element.style.display = "block";
                    }
                }
            })
        }
        if (type == 'mode') {
            document.getElementById("modeData").childNodes.forEach(element => {
                if (element.id) {
                    const idArray = element.id.split("-");
                    idArray.shift();
                    idArray.shift();
                    const courseName = idArray.join("-");
                    if (!courseName.toLowerCase().toLowerCase().includes(element2.value)) {
                        element.style.display = "none";
                    } else {
                        element.style.display = "block";
                    }
                }
            })
        }
    }
</script>

<script>
    function getCourseByShorting(element) {
        const shorting = element.value;
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                var data = JSON.parse(this.responseText);
                document.getElementById("course_count").innerHTML = data?.length;
                document.getElementById("coursesData").innerHTML = data?.map((course) => {
                    return `<div class="box course_list" data-mode="Regular" data-duration="4 Years">
            <h2>
                <a href="/courseDetail/${data?.slag}/sectio"
                    title="B.Tech - Biochemical Engineering"> ${course?.name}</a></h2>
            <div class="coursebtn">
                <!-- <a href="javascript:void(0)" class="course_follow"
                    data-course_id="2">Follow</a> -->
                    </div>
            <div class="content">
                <div class="coursePic">
                    <a href="/courses/engineering-b-tech-biochemical"
                        title="B.Tech - Biochemical Engineering"><img
                            src="${course?.image}" alt="${course?.imageAlt}"
                            alt="B.Tech - Biochemical Engineering"></a></div>
                <ul class="attr_box">
                    <li>Average Duration <span>
                           ${course?.averageDuration}
                        </span>
                    </li>
                    <li>Average Fees<span>
                        ${course?.fees}
                        </span>
                    </li>
                </ul>
                <p>${course?.shortDescription}</p>
                <a href="/courseDetail/${course?.slag}/section" class="readbtn">
                    View Details</a>
                <div class="clear"></div>
            </div>
        </div>`
                }).join("");
            }
        }
        xhttp.open("GET", `/getCourseByShorting?short=${shorting}`, true);
        xhttp.send();
    }
</script>

</html>